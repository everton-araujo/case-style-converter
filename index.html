<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Style Converter</title>

    <style>
        /* div {
            /* display: inline-block; */
        }

        h1 {
            /* text-align: center; */
        }

        Textarea {
            height: 450px;
            width: 300px;
        }

        p {
            display: inline-block;
        }

        .button-div {
            align-content: center;
        }

        */
    </style>
</head>

<body>
    <div>
        <select name="case" id="dropbox" onChange="changeText()">
            <option value="">Chose a case style</option>
            <option value="camelCase">Camel Case</option>
            <option value="snake_case">Snake Case</option>
        </select>
        <div>
            <h1 id="caseTitle"></h1>
            <p id="copyMessage"></p>
        </div>
        <Textarea id="textareaValue"></Textarea>
    </div>

    <div class="button-div">
        <button onClick="getTextAreaValue()">Convert</button>
    </div>

    <script>
        function getTextAreaValue() {
            const optionSelected = document.getElementById('dropbox').value;
            const textAreaValue = document.getElementById('textareaValue').value;

            if (optionSelected == '') return;

            if (optionSelected == 'camelCase') {
                const removeUnderscores = textAreaValue.replaceAll('_', ' ');

                const uppercaseFirstLetters = removeUnderscores.replace(/^(.)|\s+(.)/g, c => c.toUpperCase());

                const lowerFirstLetter = uppercaseFirstLetters.charAt(0).toLowerCase() + uppercaseFirstLetters.slice(1);

                document.getElementById('textareaValue').value = lowerFirstLetter.replaceAll(' ', '');
            }

            if (optionSelected == 'snake_case') {
                const toSnakeCase = textAreaValue.replace(/([A-Z])/g, ' $1').trim().toLowerCase().replaceAll(' ', '_');

                document.getElementById('textareaValue').value = toSnakeCase;
            }

            let textareaValue = document.getElementById('textareaValue');
            textareaValue.select();
            document.execCommand('copy');

            document.getElementById('copyMessage').innerHTML = 'The text is already copied in your clipboard'
        }

        function changeText() {
            document.getElementById('copyMessage').innerHTML = '';
            document.getElementById('caseTitle').innerHTML = document.getElementById('dropbox').value;
        }
    </script>
</body>

</html>