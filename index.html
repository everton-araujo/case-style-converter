<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Style Converter</title>

    <style>
        body {
            margin-top: 20px;
            text-align: center;
        }

        Textarea {
            height: 450px;
            width: 300px;
        }

        .button-div {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <h1 class="title">Case Style Converter</h1>
    <div>
        <select name="case" id="dropbox" onChange="changeText()">
            <option value="">Chose a case style</option>
            <option value="camelCase">Camel Case</option>
            <option value="snake_case">Snake Case</option>
            <option value="kebab-case">Kebab Case</option>
            <option value="PascalCase">Pascal Case</option>
        </select>
        <div>
            <h1 id="caseTitle"></h1>
            <p id="copyMessage"></p>
        </div>
        <Textarea id="textareaValue"></Textarea>
    </div>

    <div class="button-div">
        <button onClick="getTextAreaValue()">Convert</button>
    </div>

    <script>
        function getTextAreaValue() {
            const optionSelected = document.getElementById('dropbox').value;
            const textAreaValue = document.getElementById('textareaValue').value;

            if (optionSelected == '') return;
            if (!textAreaValue) return;

            if (optionSelected == 'camelCase' || optionSelected == 'PascalCase') {
                let removeUnderscores = textAreaValue
                    .replaceAll('_', ' ')
                    .replaceAll('-', ' ')
                    .replace(/^(.)|\s+(.)/g, c => c.toUpperCase())
                    .replaceAll(' ', '')

                if (optionSelected == 'camelCase') {
                    removeUnderscores = removeUnderscores.charAt(0).toLowerCase() + removeUnderscores.slice(1);
                }

                document.getElementById('textareaValue').value = removeUnderscores;
            }

            if (optionSelected == 'snake_case') {
                const toSnakeCase = textAreaValue
                    .replace(/([A-Z])/g, ' $1')
                    .trim()
                    .toLowerCase()
                    .replaceAll(' ', '_')
                    .replaceAll('-', '_');

                document.getElementById('textareaValue').value = toSnakeCase;
            }

            if (optionSelected == 'kebab-case') {
                const toSnakeCase = textAreaValue
                    .replace(/([A-Z])/g, ' $1')
                    .trim()
                    .toLowerCase()
                    .replaceAll(' ', '-')
                    .replaceAll('_', '-');

                document.getElementById('textareaValue').value = toSnakeCase;
            }

            let textareaValue = document.getElementById('textareaValue');
            textareaValue.select();
            document.execCommand('copy');

            document.getElementById('copyMessage').innerHTML = 'The text is already copied in your clipboard'
        }

        function changeText() {
            document.getElementById('copyMessage').innerHTML = '';
            document.getElementById('caseTitle').innerHTML = document.getElementById('dropbox').value;
        }
    </script>
</body>

</html>